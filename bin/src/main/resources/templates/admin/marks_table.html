<!doctype html>

<html xmlns:th="www.thymeleaf.org">
<title>Student Registration Form</title>
<head>
<th:block th:insert="~{admin/fragment/fragment :: css}"></th:block>
</head>


<body>
	<div id="wrapper">
		<div class="overlay"></div>
		<!-- Sidebar Start -->
		<th:block th:insert="~{admin/fragment/fragment :: sidebar}"></th:block>
		<!-- Sidebar-wrapper -->


		<!-- Page Content -->
		<div id="page-content-wrapper" class="toggled">
			<div id="content">

				<div class="container-fluid p-0 px-lg-0 px-md-0">
					<!-- Topbar -->
					<th:block th:replace="~{admin/fragment/fragment :: topbar}"></th:block>
					<!-- End of Topbar -->

					<!-- Begin Page Content -->
					   <!-- Begin Page Content -->
                    <div class="container-fluid px-lg-4">
                        <div class="row">
                            <!-- column start -->
                            <div class="col-md-12 mt-4">
                              <div class="card mb-4">
                                <div class="card-header bg-danger"></div>
                                  <div class="heading_result">
                                    <div class="float-left mt-2">
                                        <p class="ml-4">Program: <span >[[${resultCategory.program}]]</span></p>
                                        <p class="ml-4">Semester: <span >[[${resultCategory.semester}]]</span></p>
                                    </div> 

                                    <div class="float-right mt-2">
                                        <p class="mr-4">Term: <span>[[${resultCategory.term}]]</span></p>
                                        <p class="mr-4">Subject: <span>[[${resultCategory.subject}]]</span></p>       
                                    </div>
                                  </div>
                                  <div class="card-body">
                                    <div class="table-responsive">
                                     <a th:href="@{'/admin/result/marks/form/'+${resultCategory.id}}"
                                        class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm float-right mb-2"><i
                                            class="fas fa-plus text-white mr-1"></i>
                                        Add New</a>
                                        <div class="alert alert-primary mt-5" role="alert" th:if="${success}" th:text="${success}"
									 ></div>
									  <div class="alert alert-danger mt-5" role="alert" th:if="${error}" th:text="${error}"
									 ></div>
									 
                                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                        <thead>
                                            <tr>
                                                <th>SN</th>
                                                <th>Email</th>
                                                <th>Symbol</th>
                                                <th>Subject</th>
                                                <th>FullMark</th>
                                                <th>PassMark</th>
                                                <th>Obtained</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="result,iState:${listOfResults}">
                                                <td>[[${iState.count}]]</td>
                                                <td>[[${result.student.email}]]</td>
                                                <td>[[${result.symbolNo}]]</td>
                                                <td>[[${result.resultCategory.subject}]]</td>
                                                <td>[[${result.fullMark}]]</td>
                                                  <td>[[${result.passMark}]]</td>
                                                 <td>[[${result.obtainMark}]]</td>
                                                <td>
                                                  <center>
                                                  <a th:href="@{'/admin/result/edit/marks/'+${result.id}+'?category_id='+${result.resultCategory.id}}"><i class="fas fa-edit btn btn-success btn-sm"></i></a>
                                                  <a th:href="@{'/admin/result/delete/marks/'+${result.id}+'?category_id='+${result.resultCategory.id}}"><i class="fas fa-times btn btn-danger btn-sm"></i></a>
                                                  </center>
                                                </td>
                                            </tr>
                                        </tbody>

                                        <tr th:if="${listOfResults.isEmpty()}">
                                         <td colspan="7" class="text-center">No Data Found here....</td>
                                        </tr>

                                     </table>
                                   </div>
                                 </div>
                                </div>
                               </div>
                                    <!-- column end -->
                            </div>
                         </div>
					<!-- container-fluid -->
				</div>
			</div>
		</div>
		<!-- container-fluid -->
	</div>
	</div>
	</div>
	<!--page-content-wrapper -->
	</div>
	<!--wrapper -->


	<!-- js -->
	<th:block th:insert="~{admin/fragment/fragment :: js}"></th:block>
	<!-- end js -->


</body>

</html>